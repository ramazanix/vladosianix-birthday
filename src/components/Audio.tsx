import { motion } from "motion/react";
import transition from "../transition";

const Audio = () => {
  const text =
    "Эй, эй, Влад сегодня главный тут!🎂🔥  Собираем пати, залетаем в круг!  Крипов не стилить, фраги не брать,  Сегодня Влад – король, давай отмечать! 🏆---Владос сегодня на миду, но не в доте,  Он MVP по жизни – это в каждой ноте!  Пусть стреляет метко, как AWP,  Пусть по кайфу летит его GG!---Кексы, торт, подарки в ряд,  Владос сияет, как аркана на взгляд!  Пусть бабки капают, как манна с небес,  А жизнь выдаёт только win и success! 💸---С днём рождения, Влад! 🎉  Пусть будет радость, а не тильт и мат!  Фраги – твои, лут – твой,  Жизнь – хайлайт, без багов и войн!---С днём рождения, бро! 🎂  Пусть всегда во всём прёт!  Пусть везёт в катках и в жизни,  И пинг пусть будет не выше 30! 🚀---Рубик, Witch Doctor – неважно, кем,  Главное – в жизни быть MVP всем!  Пусть дамаг растёт, как опыт в игре,  Пусть враги в шоке, а ты – на коне! 🏇---Скиллы на прокачке, баланс на нуле,  Но не в кошельке – там x2 на депе!  Лера и Маша? Да пофиг, братан,  Сегодня твой день – ты просто Титан!---С днём рождения, Влад! 🎉  Пусть будет радость, а не тильт и мат!  Фраги – твои, лут – твой,  Жизнь – хайлайт, без багов и войн!---С днём рождения, бро! 🎂  Пусть всегда во всём прёт!  Пусть везёт в катках и в жизни,  И пинг пусть будет не выше 30! 🚀---Давай загадывай, брат, желания,  Пусть исполняются без ожидания!  Код без багов, жизнь без проблем,  Сегодня твой день – ставим на респект!";

  // Разбиваем на строки по двум пробелам
  const sections = text
    .trim()
    .split("---")
    .map((section) => section.trim());

  return (
    <div className="audio">
      <audio
        src="/birthday.mp3"
        controls
        className="player"
      />
      <div className="lyrics">
        {sections.map((section, sectionIdx) => (
          <div
            key={sectionIdx}
            className="section"
          >
            {section.split(/  +/).map((line, lineIdx) => (
              <div
                key={lineIdx}
                className="line"
              >
                {line.split(" ").map((word, wordIdx) => (
                  <motion.span
                    key={wordIdx}
                    custom={wordIdx}
                    initial={{ y: 20, opacity: 0 }}
                    animate={{ y: 0, opacity: 1 }}
                    transition={{ duration: 1, delay: wordIdx * 0.1 }}
                    className="word"
                  >
                    {word}{" "}
                  </motion.span>
                ))}
              </div>
            ))}
          </div>
        ))}
      </div>
    </div>
  );
};

export default transition(Audio);
